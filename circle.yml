general:
    branches:
        ignore:
            - gh-pages
            - /release.*/
machine:
    environment:
        PATH: '$PATH:$HOME/$CIRCLE_PROJECT_REPONAME/bin'
        VERSION_PREFIX: v
        CREATE_BRANCH: 1
        GH_PAGES_DIR: doc
        NPM_SHRINKWRAP: 1
        NPM_UPDATE_DEPTH: 9999
    pre:
        - git config --global user.name 'CircleCI'
        - git config --global user.email 'circleci@cureapp.jp'
dependencies:
    post:
        - nca update-npm
deployment:
    create_release_branch:
        branch:
            - master
        commands:
            - nca release
